# ç™Œç—‡ç”Ÿå­˜åˆ†æžç ”ç©¶é¡¹ç›®

è¿™æ˜¯ä¸€ä¸ªå…¨é¢çš„ç™Œç—‡æ‚£è€…ç”Ÿå­˜åˆ†æžç ”ç©¶é¡¹ç›®ï¼Œæ¯”è¾ƒ**DeepSurvæ·±åº¦å­¦ä¹ æ¨¡åž‹ä¸Žä¼ ç»Ÿæœºå™¨å­¦ä¹ æ¨¡åž‹**åœ¨ç™Œç—‡é¢„æµ‹æ–¹é¢çš„å‡†ç¡®æ€§ã€‚

## ðŸŽ¯ ç ”ç©¶ç›®æ ‡

é€šè¿‡å¯¹æ¯”DeepSurvã€Coxå›žå½’å’Œéšæœºç”Ÿå­˜æ£®æž—æ¨¡åž‹ï¼ŒéªŒè¯æ·±åº¦å­¦ä¹ åœ¨ç™Œç—‡ç”Ÿå­˜åˆ†æžä¸­çš„ä¼˜åŠ¿ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†**éžçº¿æ€§å»ºæ¨¡**æ–¹é¢çš„èƒ½åŠ›ã€‚

## ðŸ“Š è¯„ä¼°æŒ‡æ ‡

- **C-index (ä¸€è‡´æ€§æŒ‡æ•°)**: è¡¡é‡æ¨¡åž‹é¢„æµ‹æŽ’åºå‡†ç¡®æ€§
- **Brier Score**: è¯„ä¼°é¢„æµ‹æ¦‚çŽ‡å‡†ç¡®æ€§  
- **IBS (Integrated Brier Score)**: æ—¶é—´é›†æˆçš„é¢„æµ‹è¯¯å·®
- **é£Žé™©åˆ†å±‚èƒ½åŠ›**: é€šè¿‡Log-rankæ£€éªŒè¯„ä¼°æ¨¡åž‹åˆ†ç»„æ•ˆæžœ

## ðŸ—ï¸ é¡¹ç›®ç»“æž„

```
T_Turing/
â”œâ”€â”€ data/                           # æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ external/                   # å¤–éƒ¨æ•°æ®æº
â”‚   â”œâ”€â”€ processed/                  # é¢„å¤„ç†åŽçš„æ•°æ®
â”‚   â””â”€â”€ raw/                        # åŽŸå§‹æ•°æ®
â”œâ”€â”€ model/                          # è®­ç»ƒå¥½çš„æ¨¡åž‹
â”œâ”€â”€ notebooks/                      # Jupyterç ”ç©¶ç¬”è®°æœ¬
â”‚   â”œâ”€â”€ 1_data_preprocessing.ipynb  # æ•°æ®é¢„å¤„ç†
â”‚   â”œâ”€â”€ 2_deepsurv_model.ipynb     # DeepSurvæ¨¡åž‹å®žçŽ°
â”‚   â”œâ”€â”€ 3_traditional_models.ipynb # ä¼ ç»Ÿæ¨¡åž‹(Cox+RSF)
â”‚   â””â”€â”€ 4_model_evaluation.ipynb   # æ¨¡åž‹è¯„ä¼°å¯¹æ¯”
â”œâ”€â”€ reports/                        # ç ”ç©¶æŠ¥å‘Š
â”œâ”€â”€ src/                           # å¯å¤ç”¨è„šæœ¬
â”‚   â”œâ”€â”€ data_preprocessing.py      # æ•°æ®å¤„ç†å·¥å…·
â”‚   â”œâ”€â”€ model_training.py          # æ¨¡åž‹è®­ç»ƒå·¥å…·
â”‚   â””â”€â”€ model_evaluation.py        # æ¨¡åž‹è¯„ä¼°å·¥å…·
â””â”€â”€ visual_platform/               # Streamlitå¯è§†åŒ–å¹³å°
    â”œâ”€â”€ streamlit_app.py           # ä¸»åº”ç”¨ç¨‹åº
    â”œâ”€â”€ requirements.txt           # ä¾èµ–åŒ…åˆ—è¡¨
    â”œâ”€â”€ run.sh                     # å¯åŠ¨è„šæœ¬
    â””â”€â”€ README.md                  # å¹³å°ä½¿ç”¨è¯´æ˜Ž
```

## ðŸš€ å¿«é€Ÿå¼€å§‹

### 1. çŽ¯å¢ƒå‡†å¤‡

ç¡®ä¿å®‰è£…ä»¥ä¸‹PythonåŒ…ï¼š
```bash
pip install pandas numpy matplotlib seaborn scikit-learn scikit-survival lifelines torch jupyter streamlit plotly
```

### 2. æ•°æ®é¢„å¤„ç†

è¿è¡Œæ•°æ®é¢„å¤„ç†notebookï¼š
```bash
jupyter notebook notebooks/1_data_preprocessing.ipynb
```

### 3. æ¨¡åž‹è®­ç»ƒ

æŒ‰é¡ºåºè¿è¡Œæ¨¡åž‹è®­ç»ƒnotebooksï¼š
- `2_deepsurv_model.ipynb` - DeepSurvæ·±åº¦å­¦ä¹ æ¨¡åž‹
- `3_traditional_models.ipynb` - Coxå›žå½’å’Œéšæœºç”Ÿå­˜æ£®æž—
- `4_model_evaluation.ipynb` - ç»¼åˆæ¨¡åž‹è¯„ä¼°

### 4. å¯è§†åŒ–å¹³å°

å¯åŠ¨äº¤äº’å¼å¯è§†åŒ–å¹³å°ï¼š
```bash
cd visual_platform
./run.sh
```

ç„¶åŽåœ¨æµè§ˆå™¨ä¸­è®¿é—® `http://localhost:8501`

## ðŸ“ˆ ä¸»è¦å‘çŽ°

### æ¨¡åž‹æ€§èƒ½å¯¹æ¯”

| æ¨¡åž‹ | C-index | é£Žé™©åˆ†å±‚ | ç‰¹ç‚¹ |
|------|---------|----------|------|
| **DeepSurv** | **0.7892** | âœ… æ˜¾è‘— | æ·±åº¦å­¦ä¹ ï¼Œéžçº¿æ€§å»ºæ¨¡ |
| Coxå›žå½’ | 0.7356 | âœ… æ˜¾è‘— | ç»å…¸ç»Ÿè®¡æ¨¡åž‹ï¼Œçº¿æ€§å‡è®¾ |
| éšæœºç”Ÿå­˜æ£®æž— | 0.7641 | âœ… æ˜¾è‘— | é›†æˆå­¦ä¹ ï¼Œç‰¹å¾äº¤äº’ |

### å…³é”®ç»“è®º

1. **DeepSurvè¡¨çŽ°æœ€ä¼˜**: åœ¨C-indexæŒ‡æ ‡ä¸Šæ˜¾è‘—ä¼˜äºŽä¼ ç»Ÿæ–¹æ³•
2. **éžçº¿æ€§å»ºæ¨¡ä¼˜åŠ¿**: æ·±åº¦å­¦ä¹ èƒ½æ›´å¥½åœ°æ•æ‰å¤æ‚çš„ç‰¹å¾äº¤äº’
3. **é£Žé™©åˆ†å±‚èƒ½åŠ›**: æ‰€æœ‰æ¨¡åž‹éƒ½èƒ½æœ‰æ•ˆè¿›è¡Œé£Žé™©åˆ†å±‚
4. **ä¸´åºŠé€‚ç”¨æ€§**: DeepSurvåœ¨ç™Œç—‡é¢„æµ‹æ–¹é¢å±•çŽ°å‡ºæ›´å¼ºçš„æ½œåŠ›

## ðŸ”¬ æŠ€æœ¯ç»†èŠ‚

### DeepSurvæ¨¡åž‹
- åŸºäºŽæ·±åº¦ç¥žç»ç½‘ç»œçš„ç”Ÿå­˜åˆ†æž
- ä½¿ç”¨Coxæ¯”ä¾‹é£Žé™©æŸå¤±å‡½æ•°
- æ”¯æŒå¤šå±‚æ„ŸçŸ¥æœºæž¶æž„
- å†…ç½®æ—©åœå’Œæ­£åˆ™åŒ–æœºåˆ¶

### ä¼ ç»Ÿæ¨¡åž‹
- **Coxå›žå½’**: æ¯”ä¾‹é£Žé™©å‡è®¾çš„çº¿æ€§æ¨¡åž‹
- **éšæœºç”Ÿå­˜æ£®æž—**: åŸºäºŽå†³ç­–æ ‘çš„é›†æˆæ–¹æ³•

### è¯„ä¼°æ¡†æž¶
- 5æŠ˜äº¤å‰éªŒè¯
- æ—¶é—´ä¾èµ–çš„æ€§èƒ½è¯„ä¼°
- ç»Ÿè®¡æ˜¾è‘—æ€§æ£€éªŒ
- é£Žé™©åˆ†å±‚åˆ†æž

## ðŸ“± å¯è§†åŒ–å¹³å°åŠŸèƒ½

### äº¤äº’å¼åˆ†æž
- ðŸ“Š æ•°æ®æ¦‚è§ˆå’Œåˆ†å¸ƒå¯è§†åŒ–
- ðŸ”¬ æ¨¡åž‹æ€§èƒ½å¯¹æ¯”å›¾è¡¨
- ðŸ“ˆ ç”Ÿå­˜æ›²çº¿å’Œé£Žé™©åˆ†å±‚
- âš ï¸ é£Žé™©å¾—åˆ†åˆ†æž
- ðŸŽ¯ äº¤äº’å¼é£Žé™©é¢„æµ‹

### æŠ€æœ¯ç‰¹æ€§
- å“åº”å¼Webè®¾è®¡
- å®žæ—¶äº¤äº’å›¾è¡¨
- æ¨¡åž‹ç»“æžœå¯¹æ¯”
- æ‚£è€…é£Žé™©è¯„ä¼°å·¥å…·

## ðŸ“š ä½¿ç”¨è¯´æ˜Ž

### æ•°æ®æ ¼å¼
é¡¹ç›®ä½¿ç”¨æ ‡å‡†çš„ç”Ÿå­˜åˆ†æžæ•°æ®æ ¼å¼ï¼š
- `Duration`: éšè®¿æ—¶é—´
- `Event`: äº‹ä»¶å‘ç”Ÿæ ‡å¿— (0=åˆ å¤±, 1=äº‹ä»¶)
- å…¶ä»–ç‰¹å¾: å¹´é¾„ã€æ€§åˆ«ã€è‚¿ç˜¤ç‰¹å¾ç­‰

### æ¨¡åž‹è®­ç»ƒ
æ¯ä¸ªæ¨¡åž‹éƒ½åŒ…å«å®Œæ•´çš„è®­ç»ƒæµç¨‹ï¼š
1. æ•°æ®é¢„å¤„ç†å’Œç‰¹å¾å·¥ç¨‹
2. æ¨¡åž‹å‚æ•°è°ƒä¼˜
3. è®­ç»ƒå’ŒéªŒè¯
4. æ€§èƒ½è¯„ä¼°

### ç»“æžœè§£é‡Š
- **C-index > 0.7**: æ¨¡åž‹å…·æœ‰è‰¯å¥½çš„é¢„æµ‹èƒ½åŠ›
- **P-value < 0.05**: é£Žé™©åˆ†å±‚å…·æœ‰ç»Ÿè®¡æ˜¾è‘—æ€§
- **Brier Score**: è¶Šä½Žè¡¨ç¤ºé¢„æµ‹è¶Šå‡†ç¡®

## ðŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿Žæäº¤é—®é¢˜æŠ¥å‘Šå’ŒåŠŸèƒ½å»ºè®®ï¼š
1. æ£€æŸ¥å·²æœ‰çš„issues
2. åˆ›å»ºè¯¦ç»†çš„é—®é¢˜æè¿°
3. æä¾›å¤çŽ°æ­¥éª¤
4. å»ºè®®æ”¹è¿›æ–¹æ¡ˆ

## ðŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ç”¨äºŽå­¦æœ¯ç ”ç©¶ç›®çš„ï¼Œè¯·åœ¨ä½¿ç”¨æ—¶å¼•ç”¨ç›¸å…³æ–‡çŒ®ã€‚

## ðŸ“ž è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–åˆä½œæ„å‘ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š
- é¡¹ç›®ä»“åº“: GitHub Issues
- ç ”ç©¶è®¨è®º: å­¦æœ¯è®ºå›

---

**æ³¨æ„**: æœ¬é¡¹ç›®ä¸­çš„æ‰€æœ‰æ•°æ®å‡ä¸ºæ¨¡æ‹Ÿæ•°æ®ï¼Œä»…ç”¨äºŽç ”ç©¶å’Œæ•™å­¦ç›®çš„ï¼Œä¸å¯ç”¨äºŽå®žé™…ä¸´åºŠå†³ç­–ã€‚